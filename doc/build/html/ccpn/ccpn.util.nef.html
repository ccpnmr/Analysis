<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ccpn.util.nef package &mdash; Python  documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Python  documentation" href="../index.html" />
    <link rel="up" title="ccpn.util package" href="ccpn.util.html" />
    <link rel="next" title="ccpn.util.v2io package" href="ccpn.util.v2io.html" />
    <link rel="prev" title="ccpn.util package" href="ccpn.util.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ccpn.util.v2io.html" title="ccpn.util.v2io package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ccpn.util.html" title="ccpn.util package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Python  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >CCPN</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="ccpn.html" >ccpn package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="ccpn.util.html" accesskey="U">ccpn.util package</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-ccpn.util.nef">
<span id="ccpn-util-nef-package"></span><h1>ccpn.util.nef package<a class="headerlink" href="#module-ccpn.util.nef" title="Permalink to this headline">¶</a></h1>
<p>Star, Cif, and NEF I/O.</p>
<p>Files are converted to and from a tree of nested objects (essentially enhanced, ordered dictionaries)</p>
<p>The GenericStarParser.py will work for any valid Star file; see this file
for the precise reading and writing behaviour. Parsing comes in several modes, depending on how
strictly the STAR standard is enforced.</p>
<p>NmrStar and NEF files have a more restricted syntax, with all items and loops contained within
saveframes, and with saveframe and loop tags beginning with a prefix matching the saveframe and loop
category. The StarIo.py code is used for these files; it converts the output of the GenericStarParser
into a simpler object tree that makes use of these restrictions, strips mandatory tag prefixes,
and converts strings to numerical values with some limited heuristics.</p>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="ccpn-util-nef-ccpn-module">
<h2>ccpn.util.nef.Ccpn module<a class="headerlink" href="#ccpn-util-nef-ccpn-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="ccpn-util-nef-cingccpn-module">
<h2>ccpn.util.nef.CingCcpn module<a class="headerlink" href="#ccpn-util-nef-cingccpn-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-ccpn.util.nef.CompareNef">
<span id="ccpn-util-nef-comparenef-module"></span><h2>ccpn.util.nef.CompareNef module<a class="headerlink" href="#module-ccpn.util.nef.CompareNef" title="Permalink to this headline">¶</a></h2>
<p>compareNef - a series of routines to compare the contents of two Nef files</p>
<dl class="docutils">
<dt>Command Line Usage:</dt>
<dd><p class="first">compareNef for execution from the command line with a suitable script
An example can be found in AnalysisV3/bin/compareNef:</p>
<blockquote>
<div>#!/usr/bin/env sh
export CCPNMR_TOP_DIR=&#8221;$(dirname $(cd $(dirname &#8220;$0&#8221;); pwd))&#8221;
export ANACONDA3=${CCPNMR_TOP_DIR}/miniconda
export PYTHONPATH=${CCPNMR_TOP_DIR}/src/python:${CCPNMR_TOP_DIR}/src/c
${ANACONDA3}/bin/python ${CCPNMR_TOP_DIR}/src/python/ccpn/util/nef/compareNef.py $*</div></blockquote>
<p>Usage:  compareNef [options]</p>
<dl class="last docutils">
<dt>optional arguments:</dt>
<dd><table class="first docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>show this help message</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-H</span>, <span class="option">--Help</span></kbd></td>
<td>Show detailed help</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-i</span>, <span class="option">--ignoreblockname</span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Ignore the blockname when comparing two Nef files
May be required when converting Nef files through
different applications
May be used with -f and -b</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-k</span>, <span class="option">--keep</span></kbd></td>
<td>Keep existing .txt files. New files are appended with &#8216;(n)&#8217; before
the extension, where n is the next available number.</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>-f inFile1 inFile2, &#8211;file inFile1 inFile2</dt>
<dd>Compare two Nef files and print the results to the
screen</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-s</span>, <span class="option">--screen</span></kbd></td>
<td>Output batch processing to screen, default is to .txt files
may be used with -b</td></tr>
</tbody>
</table>
<dl class="last docutils">
<dt>-b inDir1 inDir2 outDir, &#8211;block inDir1 inDir2 outDir</dt>
<dd>compare Nef files common to directories
inDir1 and inDir2. Write output <a href="#id1"><span class="problematic" id="id2">*</span></a>.txt for each
file into the outDir directory.</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<p>Details of the contents of Nef files can be found in GenericStarParser
The general structure of a Nef file is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DataExtent</span>
  <span class="n">DataBlock</span>
    <span class="n">Item</span>
    <span class="n">Loop</span>
    <span class="n">SaveFrame</span>
      <span class="n">Item</span>
      <span class="n">Loop</span>
</pre></div>
</div>
<p>DataExtent, DataBlock and SaveFrame are Python OrderedDict with an additional &#8216;name&#8217; attribute
DataBlocks and SaveFrames are entered in their container using their name as the key.</p>
<p>Loop is an object with a &#8216;columns&#8217; list, a &#8216;data&#8217; list-of-row-OrderedDict, and a name attribute
set equal to the name of the first column. A loop is entered in its container under each
column name, so that e.g. aSaveFrame[&#8216;_Loopx.loopcol1&#8217;] and aSaveFrame[&#8216;_Loopx.loopcol2&#8217;] both
exist and both correspond to the same loop object.</p>
<dl class="docutils">
<dt>Items are entered as a string key - string value pair.</dt>
<dd>the string value can be a dictionary</dd>
</dl>
<div class="section" id="module-contents">
<h3>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>compareNef contains the following routines:</dt>
<dd><p class="first">compareNefFiles      compare two Nef files and return a compare object</p>
<blockquote>
<div><p>Searches through all objects: dataExtents, dataBlocks, saveFrames and Loops within the files.
Comparisons are made for all data structures that have the same name.
Differences for items within a column are listed in the form:</p>
<blockquote>
<div>dataExtent:dataBlock:saveFrame:Loop:  &lt;Column&gt;: columnName  &lt;rowIndex&gt;: row  &#8211;&gt;  value1 != value2</div></blockquote>
<dl class="docutils">
<dt>dataExtents, dataBlocks, saveFrames, Loops, columns present only in one file are listed, in the form:</dt>
<dd><dl class="first last docutils">
<dt>dataExtent:dataBlock:saveFrame:Loop: contains &#8211;&gt; parameter1</dt>
<dd>parameter2
...
parameterN</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>A compare object is a list of nefItems of the form:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">NefItem</span>
  <span class="n">inWhich</span>         <span class="n">a</span> <span class="n">flag</span> <span class="n">labelling</span> <span class="n">which</span> <span class="n">file</span> <span class="n">the</span> <span class="n">item</span> <span class="n">was</span> <span class="n">found</span> <span class="ow">in</span>
                  <span class="mi">1</span> <span class="o">=</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">first</span> <span class="n">file</span><span class="p">,</span> <span class="mi">2</span> <span class="o">=</span> <span class="n">found</span> <span class="ow">in</span> <span class="n">second</span> <span class="n">file</span><span class="p">,</span> <span class="mi">3</span> <span class="o">=</span> <span class="n">common</span> <span class="n">to</span> <span class="n">both</span>
  <span class="n">List</span>
    <span class="n">Item</span>          <span class="n">multiple</span> <span class="n">strings</span> <span class="n">containing</span> <span class="n">the</span> <span class="n">comparison</span> <span class="n">tree</span>
    <span class="p">(,</span><span class="n">List</span><span class="p">)</span>       <span class="n">the</span> <span class="n">last</span> <span class="n">item</span> <span class="n">of</span> <span class="n">which</span> <span class="n">may</span> <span class="n">be</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">items</span> <span class="n">common</span> <span class="n">to</span> <span class="n">the</span> <span class="n">tree</span>
</pre></div>
</div>
<dl class="docutils">
<dt>e.g., for parameters present in the first file:</dt>
<dd><dl class="first docutils">
<dt>[</dt>
<dd>inWhich=1
list=[dataExtent1, dataBlock1, saveFrame1, Loop1, [parameter1, parameter2, parameter3]]</dd>
</dl>
<p class="last">]</p>
</dd>
</dl>
<p>compareDataExtents    compare two DataExtent objects and return a compare list as above
compareDataBlocks     compare two DataBlock objects and return a compare list as above
compareSaveFrames     compare two SaveFrame objects and return a compare list as above
compareLoops          compare two Loop objects and return a compare list as above</p>
<p>compareNefFiles       compare two Nef files and return a compare list as above
batchCompareNefFiles  compare two directories of Nef files.</p>
<blockquote>
<div>Nef Files common to specified directories are compared and the compare
lists are written to the third directory as .txt</div></blockquote>
<p class="last">printCompareList      print the compare list to the screen</p>
</dd>
</dl>
<dl class="class">
<dt id="ccpn.util.nef.CompareNef.Test_Compare_Files">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">Test_Compare_Files</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#Test_Compare_Files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.Test_Compare_Files" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">unittest.case.TestCase</span></code></p>
<p>Test the comparison of nef files and print the results</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.addToList">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">addToList</code><span class="sig-paren">(</span><em>inList</em>, <em>cItem</em>, <em>nefList</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#addToList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.addToList" title="Permalink to this definition">¶</a></dt>
<dd><p>Append cItem to the compare list
Currently adds one cItem with a list as the last element</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inList</strong> &#8211; a list of items to add to the end of cItem</li>
<li><strong>cItem</strong> &#8211; object containing the current tree to add to the list</li>
<li><strong>nefList</strong> &#8211; current list of comparisons</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of type nefItem</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.batchCompareNefFiles">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">batchCompareNefFiles</code><span class="sig-paren">(</span><em>inDir1</em>, <em>inDir2</em>, <em>outDir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#batchCompareNefFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.batchCompareNefFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch compare the Nef files common to the two directories
For each file found, write the compare log to the corresponding .txt file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>inDir1</strong> &#8211; </li>
<li><strong>inDir2</strong> &#8211; </li>
<li><strong>outDir</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.compareDataBlocks">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">compareDataBlocks</code><span class="sig-paren">(</span><em>dataBlock1: ccpn.util.nef.GenericStarParser.DataBlock</em>, <em>dataBlock2: ccpn.util.nef.GenericStarParser.DataBlock</em>, <em>cItem=None</em>, <em>nefList=None</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#compareDataBlocks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.compareDataBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two dataBlocks, if they have the same name then check their contents
:param dataBlock1: name of the first DataBlock object
:param dataBlock2: name of the second DataBlock object
:return: list of type nefItem</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.compareDataExtents">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">compareDataExtents</code><span class="sig-paren">(</span><em>dataExt1: ccpn.util.nef.GenericStarParser.DataExtent</em>, <em>dataExt2: ccpn.util.nef.GenericStarParser.DataExtent</em>, <em>cItem=None</em>, <em>nefList=None</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#compareDataExtents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.compareDataExtents" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two dataExtents, if they have the same name then check their contents
:param dataExt1: name of the first DataExtent object
:param dataExt2: name of the second DataExtent object
:return: list of type nefItem</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.compareLoops">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">compareLoops</code><span class="sig-paren">(</span><em>loop1: ccpn.util.nef.GenericStarParser.Loop</em>, <em>loop2: ccpn.util.nef.GenericStarParser.Loop</em>, <em>cItem=None</em>, <em>nefList=None</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#compareLoops"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.compareLoops" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two Loops
:param loop1: name of the first Loop object
:param loop2: name of the second Loop object
:return: list of type nefItem</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.compareNefFiles">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">compareNefFiles</code><span class="sig-paren">(</span><em>inFile1</em>, <em>inFile2</em>, <em>cItem=None</em>, <em>nefList=None</em><span class="sig-paren">)</span> &rarr; list=None<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#compareNefFiles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.compareNefFiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two Nef files and return comparison as a nefItem list
:param inFile1: name of the first file
:param inFile2: name of the second file
:return: list of type nefItem</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.compareSaveFrames">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">compareSaveFrames</code><span class="sig-paren">(</span><em>saveFrame1: ccpn.util.nef.GenericStarParser.SaveFrame</em>, <em>saveFrame2: ccpn.util.nef.GenericStarParser.SaveFrame</em>, <em>cItem=None</em>, <em>nefList=None</em><span class="sig-paren">)</span> &rarr; list<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#compareSaveFrames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.compareSaveFrames" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two saveFrames, if they have the same name then check their contents
:param saveFrame1: name of the first SaveFrame object
:param saveFrame2: name of the second SaveFrame object
:return: list of type nefItem</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.defineArguments">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">defineArguments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#defineArguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.defineArguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the arguments of the program
:return argparse instance</p>
</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.CompareNef.nefItem">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">nefItem</code><span class="sig-paren">(</span><em>cItem=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#nefItem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.nefItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Holds the contents of a single Nef comparison
inWhich   a flag labelling which file the item was found in</p>
<blockquote>
<div>1 = found in the first file, 2 = found on the second file, 3 = common to both</div></blockquote>
<p>list      a list of strings containing the comparison information</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.printCompareList">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">printCompareList</code><span class="sig-paren">(</span><em>nefList</em>, <em>inFile1</em>, <em>inFile2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#printCompareList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.printCompareList" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the contents of the nef compare list to the screen</p>
<dl class="docutils">
<dt>Output is in three parts:</dt>
<dd><ul class="first last simple">
<li>items that are present only in the first file</li>
<li>items that are only in the second file</li>
<li>differences between objects that are common in both files</li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>nefList</strong> &#8211; list to print</li>
<li><strong>inFile1</strong> &#8211; name of the first file</li>
<li><strong>inFile2</strong> &#8211; name of the second file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.printFile">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">printFile</code><span class="sig-paren">(</span><em>thisFile</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#printFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.printFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a file to the screen</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.printWhichList">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">printWhichList</code><span class="sig-paren">(</span><em>nefList</em>, <em>whichType=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#printWhichList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.printWhichList" title="Permalink to this definition">¶</a></dt>
<dd><p>List only those items that are of type whichType
:param nefList: list to print
:param whichType: type to print</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.CompareNef.sizeNefList">
<code class="descclassname">ccpn.util.nef.CompareNef.</code><code class="descname">sizeNefList</code><span class="sig-paren">(</span><em>nefList</em>, <em>whichType=0</em><span class="sig-paren">)</span> &rarr; int<a class="reference internal" href="../_modules/ccpn/util/nef/CompareNef.html#sizeNefList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.CompareNef.sizeNefList" title="Permalink to this definition">¶</a></dt>
<dd><p>List only those items that are of type whichType
:param nefList: list to print
:param whichType: type to print</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-ccpn.util.nef.GenericStarParser">
<span id="ccpn-util-nef-genericstarparser-module"></span><h2>ccpn.util.nef.GenericStarParser module<a class="headerlink" href="#module-ccpn.util.nef.GenericStarParser" title="Permalink to this headline">¶</a></h2>
<p>Star-type file parser, agnostic between cif, mmcif, star, nef, etc.</p>
<p>Returns a nested data structure that matches the file,
with DataExtent, DataBlock, SaveFrame, and Loop objects.
Additional support for distinguishing between None, True, False, and int/float values
and the strings that match their representations.</p>
<p>For behaviour better suited to NmrStar and NEf see ./StarIo.py</p>
<p>Usage:</p>
<p>parse(text, mode) to parse a text representation to nested objects</p>
<p>parseFile(fileName, mode) to load and parse a file</p>
<p>starObject.toString() will convert any object in the object structure,
complete with contents, to a string that can then be written to file.</p>
<div class="section" id="reading-behaviour">
<h3>Reading behaviour<a class="headerlink" href="#reading-behaviour" title="Permalink to this headline">¶</a></h3>
<p>follows the specification in
International Tables for Crystallography volume G section 2.1
with the following exceptions:</p>
<blockquote>
<div><ul class="simple">
<li>Nested loops are NOT supported</li>
<li>Global blocks are treated as simple data blocks. If the first data block in the file is
a <a href="#id3"><span class="problematic" id="id4">global_</span></a>, is is named &#8216;<a href="#id5"><span class="problematic" id="id6">global_</span></a>&#8216;; globals elsewhere are named global_1, global_2, etc.
This may cause trouble downstream if there is a DataBlock named e.g. &#8216;data_global_1&#8217;.</li>
</ul>
</div></blockquote>
<p>The object structure returned is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DataExtent</span>
  <span class="n">DataBlock</span>
    <span class="n">Item</span>
    <span class="n">Loop</span>
    <span class="n">SaveFrame</span>
      <span class="n">Item</span>
      <span class="n">Loop</span>
</pre></div>
</div>
<p>DataExtent, DataBlock and SaveFrame are Python OrderedDict with an additional &#8216;name&#8217; attribute
DataBlocks and SaveFrames are entered in their container using their name as the key.</p>
<p>Loop is an object with a &#8216;columns&#8217; list, a &#8216;data&#8217; list-of-row-OrderedDict, and a name attribute
set equal to the name of the first column. A loop is entered in its container under each
column name, so that e.g. aSaveFrame[&#8216;_Loopx.loopcol1&#8217;] and aSaveFrame[&#8216;_Loopx.loopcol2&#8217;] both
exist and both correspond to the same loop object.</p>
<p>Items are entered as a string key - string value pair.</p>
<p>All tags are preserved &#8216;as is&#8217; (i.e. without stripping leading &#8216;_&#8217;, &#8216;<a href="#id7"><span class="problematic" id="id8">data_</span></a>&#8216;, or &#8216;<a href="#id9"><span class="problematic" id="id10">save_</span></a>&#8216;),
basically to avoid the theoretical risk that a SaveFrame name might clash with
an item name or loop column, or a DataBlock with a Global. Duplicate tags raise an error.</p>
<p>Quoted values are returned as str,
whereas unquoted values are returned as a str subtype UnquotedValue(str)
This allows later distinction between null, unknown, saveframe_reference and the
equivalent quoted strings.</p>
</div>
<div class="section" id="writing-behaviour">
<h3>Writing behaviour<a class="headerlink" href="#writing-behaviour" title="Permalink to this headline">¶</a></h3>
<p>follows the specification in
International Tables for Crystallography volume G section 2.1
with the following exceptions and additions.</p>
<blockquote>
<div><ul>
<li><p class="first">Strings of type UnquotedValue are written as-is, without quoting them.</p>
</li>
<li><p class="first">Note that e.g. &#8216; &#8220;say&#8221; &#8216;what&#8217;?&#8217;    or    &#8221; &#8216;say&#8221;&#8216;&#8220;what&#8221;?&#8221; are
valid quoted strings according to the standard, since  the end-quote marker
is a quotation marker FOLLOWED BY WHITESPACE.</p>
</li>
<li><p class="first">Strings that cannot be quoted on one line (e.g.   &#8216;&#8217;&#8217; &#8220;say&#8221; &#8216;what&#8217; &#8216;&#8217;&#8217;   )
are converted to  multiline strings by appending a newline</p>
</li>
<li><p class="first">Strings with internal linebreaks but no terminal linebreak
are converted by appending a linebreak</p>
</li>
<li><p class="first">Strings that cannot be quoted as multiline strings because they contain
a line starting with &#8216;;&#8217; are converted by prepending a space (&#8216; &#8216;) to each line</p>
</li>
<li><p class="first">Values None, True, False, NaN, Infinity and -Infinity are converted to
UNQUOTED strings &#8216;.&#8217;, &#8216;true&#8217;, &#8216;false&#8217;, &#8216;NaN&#8217;, &#8216;Infinity&#8217; and &#8216;-Infinity&#8217;, respectively.</p>
</li>
<li><p class="first">Normal (not unquoted) strings that evaluate to a float are written in quotes.
Also the literal strings &#8216;.&#8217;, &#8216;true&#8217;, &#8216;false&#8217;, &#8216;NaN&#8217;, &#8216;Infinity&#8217; and &#8216;-Infinity&#8217;
are always written in quotes.</p>
<p>This makes it possible (but NOT mandatory) to distinguish the null,  boolean and float values
from the equivalent strings</p>
</li>
</ul>
</div></blockquote>
<p>The toString functions in this module will work with loop rows implemented as
either tuples, lists, or OrderedDicts, and accept an optional tag prefix for
DataBlocks, SaveFrames, and Loops, to prepend to item and column names.</p>
<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.DataBlock">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">DataBlock</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#DataBlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.DataBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.StarContainer" title="ccpn.util.nef.GenericStarParser.StarContainer"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.StarContainer</span></code></a></p>
<p>DataBlock for general STAR object tree</p>
<dl class="attribute">
<dt id="ccpn.util.nef.GenericStarParser.DataBlock.tagPrefix">
<code class="descname">tagPrefix</code><em class="property"> = None</em><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.DataBlock.tagPrefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.DataBlock.toString">
<code class="descname">toString</code><span class="sig-paren">(</span><em>indent=''</em>, <em>separator='  '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#DataBlock.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.DataBlock.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert DataBlock to string, for writing</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.DataExtent">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">DataExtent</code><span class="sig-paren">(</span><em>name='Root'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#DataExtent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.DataExtent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.NamedOrderedDict" title="ccpn.util.nef.GenericStarParser.NamedOrderedDict"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.NamedOrderedDict</span></code></a></p>
<p>Top level container for general STAR object tree</p>
<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.DataExtent.toString">
<code class="descname">toString</code><span class="sig-paren">(</span><em>indent=''</em>, <em>separator='  '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#DataExtent.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.DataExtent.toString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.GeneralStarParser">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">GeneralStarParser</code><span class="sig-paren">(</span><em>text</em>, <em>enforceSaveFrameStop=True</em>, <em>enforceLoopStop=False</em>, <em>padIncompleteLoops=False</em>, <em>allowSquareBracketStrings=False</em>, <em>lowerCaseTags=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#GeneralStarParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.GeneralStarParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Parser for text corresponding to a STAR file with one or more data blocks,
producing a nested object structure matching the file (see module documentation for details:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">DataExtent</span>
  <span class="n">DataBlock</span>
    <span class="n">Loop</span>
    <span class="n">Item</span>
  <span class="n">SaveFrame</span>
    <span class="n">Loop</span>
    <span class="n">Item</span>
</pre></div>
</div>
<p>Parameters (default values correspond to the International Tables for Crystallography standard):</p>
<ul class="simple">
<li><em>text</em> Text to parse</li>
<li><em>enforceSaveFrameStop</em> : True. Raise an error for missing &#8216;<a href="#id11"><span class="problematic" id="id12">save_</span></a>&#8216; terminators - Yes/No</li>
<li><em>enforceLoopStop</em> : False. Raise an error for missing &#8216;<a href="#id13"><span class="problematic" id="id14">stop_</span></a>&#8216; terminators - Yes/No</li>
<li><em>padIncompleteLoops</em> : False.  Pad final loop row with &#8216;.&#8217; for missing values - Yes/No</li>
<li><em>allowSquareBracketStrings</em> : False.  Allow values starting &#8216;[&#8216; or &#8216;]&#8217; - Yes/No</li>
<li><em>lowerCaseTags</em> : True. Convert all data and object names to lower case</li>
</ul>
<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.GeneralStarParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#GeneralStarParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.GeneralStarParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.GeneralStarParser.processDataName">
<code class="descname">processDataName</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#GeneralStarParser.processDataName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.GeneralStarParser.processDataName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.GeneralStarParser.processValue">
<code class="descname">processValue</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#GeneralStarParser.processValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.GeneralStarParser.processValue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.Loop">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">Loop</code><span class="sig-paren">(</span><em>name=None</em>, <em>columns=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#Loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Loop for general STAR object tree
Attributes are:</p>
<ul class="simple">
<li>name: string</li>
<li>columns:  List of string column headers</li>
<li>data: List-of-rows, where rows are OrderedDicts</li>
</ul>
<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.Loop.addColumn">
<code class="descname">addColumn</code><span class="sig-paren">(</span><em>columnName</em>, <em>paddingValue=DataExtent([]</em>, <em>name=Root)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#Loop.addColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.addColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new column to loop. if paddingValue is set, including to None, rows with None</p>
</dd></dl>

<dl class="attribute">
<dt id="ccpn.util.nef.GenericStarParser.Loop.columns">
<code class="descname">columns</code><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>- <em>None</em>, <em>immutable</em> - 
Column names</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.Loop.newRow">
<code class="descname">newRow</code><span class="sig-paren">(</span><em>values=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#Loop.newRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.newRow" title="Permalink to this definition">¶</a></dt>
<dd><p>Add new row, initialised from values</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.Loop.removeColumn">
<code class="descname">removeColumn</code><span class="sig-paren">(</span><em>columnName</em>, <em>removeData=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#Loop.removeColumn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.removeColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove column from loop. Will NOT work properly if called during parsing.</p>
</dd></dl>

<dl class="attribute">
<dt id="ccpn.util.nef.GenericStarParser.Loop.tagPrefix">
<code class="descname">tagPrefix</code><em class="property"> = None</em><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.tagPrefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.Loop.toString">
<code class="descname">toString</code><span class="sig-paren">(</span><em>indent='   '</em>, <em>separator='  '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#Loop.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.Loop.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Stringifier function for loop.</p>
<p>Accepts (subtypes of) Loop with data as sequence of rows,
where rows can be tuples, lists, or OrderedDicts.
In all cases the values must be in the order given by the columns attribute</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.LoopRow">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">LoopRow</code><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#LoopRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.LoopRow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></code></p>
<p>Loop row - OrderedDict with additional functionality</p>
</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.NamedOrderedDict">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">NamedOrderedDict</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#NamedOrderedDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.NamedOrderedDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">collections.OrderedDict</span></code></p>
<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.NamedOrderedDict.addItem">
<code class="descname">addItem</code><span class="sig-paren">(</span><em>tag</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#NamedOrderedDict.addItem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.NamedOrderedDict.addItem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.SaveFrame">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">SaveFrame</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#SaveFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.SaveFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.StarContainer" title="ccpn.util.nef.GenericStarParser.StarContainer"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.StarContainer</span></code></a></p>
<p>SaveFrame for general STAR object tree</p>
<dl class="attribute">
<dt id="ccpn.util.nef.GenericStarParser.SaveFrame.tagPrefix">
<code class="descname">tagPrefix</code><em class="property"> = None</em><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.SaveFrame.tagPrefix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.SaveFrame.toString">
<code class="descname">toString</code><span class="sig-paren">(</span><em>indent='   '</em>, <em>separator='  '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#SaveFrame.toString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.SaveFrame.toString" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert SaveFrame to string, for writing</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.StarContainer">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">StarContainer</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#StarContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.StarContainer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.NamedOrderedDict" title="ccpn.util.nef.GenericStarParser.NamedOrderedDict"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.NamedOrderedDict</span></code></a></p>
<p>DataBlock or SaveFrame containing items and loops</p>
<dl class="method">
<dt id="ccpn.util.nef.GenericStarParser.StarContainer.multiColumnValues">
<code class="descname">multiColumnValues</code><span class="sig-paren">(</span><em>columns</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#StarContainer.multiColumnValues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.StarContainer.multiColumnValues" title="Permalink to this definition">¶</a></dt>
<dd><p>get tuple of orderedDict of values for columns.
Will work whether columns are in a loop or single values
If columns match a single loop or nothing, return the loop data.
Otherwise return a tuple with a single OrderedDict.
If no column matches return None
If columns match more than one loop throw an error</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ccpn.util.nef.GenericStarParser.StarSyntaxError">
<em class="property">exception </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">StarSyntaxError</code><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#StarSyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.StarSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.GenericStarParser.UnquotedValue">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">UnquotedValue</code><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#UnquotedValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.UnquotedValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">str</span></code></p>
<p>A plain string - the only difference is the type: &#8216;UnquotedValue&#8217;.
Used to distinguish values from STAR files that were not quoted.
STAR special values (like null,  unknown, ...) are only recognised if unquoted strings</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.GenericStarParser.extractMatchingNameSequence">
<code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">extractMatchingNameSequence</code><span class="sig-paren">(</span><em>name</em>, <em>matchNames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#extractMatchingNameSequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.extractMatchingNameSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Get list of matchNames matching &#8216;name_1&#8217;, &#8216;name_2&#8217;, ..., in order.</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.GenericStarParser.parse">
<code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">parse</code><span class="sig-paren">(</span><em>text</em>, <em>mode='standard'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse STAR text string &#8216;text&#8217;.
Standard settings allow skipping &#8216;<a href="#id15"><span class="problematic" id="id16">stop_</span></a>&#8216; tags and strings starting with &#8216;[&#8216; or &#8216;]&#8217;,
but require &#8216;<a href="#id17"><span class="problematic" id="id18">save_</span></a>&#8216; termination of SaveFrames and throw an error if the number of loop
values do not match the number of columns.</p>
<p>&#8216;strict&#8217; and &#8216;lenient&#8217; modes are available; mode=&#8217;IUCr&#8217; follows the IUCr standard, which
is like standard except that strings starting with &#8216;[&#8216; and &#8216;]&#8217; are not allowed</p>
<p>See GeneralStarParser class for details and control of individual settings</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.GenericStarParser.parseFile">
<code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">parseFile</code><span class="sig-paren">(</span><em>fileName</em>, <em>mode='standard'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#parseFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.parseFile" title="Permalink to this definition">¶</a></dt>
<dd><p>load generic STAR file and parse the contents</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.GenericStarParser.valueToStarString">
<code class="descclassname">ccpn.util.nef.GenericStarParser.</code><code class="descname">valueToStarString</code><span class="sig-paren">(</span><em>value</em>, <em>quoteNumberStrings=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/GenericStarParser.html#valueToStarString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.GenericStarParser.valueToStarString" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert value to properly quoted STAR string</p>
<p>if quoteNumberStrings, strings that evaluate to a float (e.g. &#8216;1&#8217;, &#8216;2.7e5&#8217;, ...)
are put in quotes</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-ccpn.util.nef.Specification">
<span id="ccpn-util-nef-specification-module"></span><h2>ccpn.util.nef.Specification module<a class="headerlink" href="#module-ccpn.util.nef.Specification" title="Permalink to this headline">¶</a></h2>
<p>Code for handling NEF specification and metadata</p>
<dl class="class">
<dt id="ccpn.util.nef.Specification.CifDicConverter">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.Specification.</code><code class="descname">CifDicConverter</code><span class="sig-paren">(</span><em>inputText</em>, <em>skipExamples=True</em>, <em>additionalBlocks=()</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Converts mmcif .dic file, with program-specific additions datablocks
into a single NEF data structure, containing:</p>
<p>1) a nef_specification saveframe, containing a dictionary_history loop and a
item_type_list loop</p>
<ol class="arabic" start="2">
<li><p class="first">A saveframe for each saveframe_dategory in the specification. Each saveframe contains</p>
<blockquote>
<div><p>items:
_nef_saveframe.sf_framecode
_nef_saveframe.sf_category
_nef_saveframe.is_mandatory
_nef_saveframe.description
_nef_saveframe.example</p>
<p>A table for contained loops:</p>
<dl class="docutils">
<dt><a href="#id19"><span class="problematic" id="id20">loop_</span></a></dt>
<dd><blockquote class="first">
<div><p>_nef_loop.category
_nef_loop.is_mandatory
_nef_loop.description
_nef_loop.example</p>
</div></blockquote>
<p class="last">And a table for contained items and loop columns:</p>
</dd>
<dt><a href="#id21"><span class="problematic" id="id22">loop_</span></a></dt>
<dd><p class="first">_nef_item.name
_nef_item.loop_category
_nef_item.type_code
_nef_item.is_mandatory
_nef_item.is_key
_nef_item.example_1
_nef_item.example_2
_nef_item.description</p>
<p class="last">The loop_category defines which loop the item belongs to
(if empty it belongs directly inside the saveframe)</p>
</dd>
</dl>
</div></blockquote>
</li>
</ol>
<dl class="method">
<dt id="ccpn.util.nef.Specification.CifDicConverter.convertToNef">
<code class="descname">convertToNef</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter.convertToNef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter.convertToNef" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert RCSB .cif file into a nef specification summary file</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.Specification.CifDicConverter.extractGeneralDataFrame">
<code class="descname">extractGeneralDataFrame</code><span class="sig-paren">(</span><em>rcsbDataBlock</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter.extractGeneralDataFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter.extractGeneralDataFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>extract general data saveframe</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.Specification.CifDicConverter.extractItemDescription">
<code class="descname">extractItemDescription</code><span class="sig-paren">(</span><em>inputSaveFrame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter.extractItemDescription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter.extractItemDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>extract item description</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.Specification.CifDicConverter.extractLoopDescription">
<code class="descname">extractLoopDescription</code><span class="sig-paren">(</span><em>inputSaveFrame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter.extractLoopDescription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter.extractLoopDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>extract loop description</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.Specification.CifDicConverter.extractSaveFrameDescription">
<code class="descname">extractSaveFrameDescription</code><span class="sig-paren">(</span><em>inputSaveFrame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#CifDicConverter.extractSaveFrameDescription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.CifDicConverter.extractSaveFrameDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>extract saveframe description</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.Specification.extractByCategories">
<code class="descclassname">ccpn.util.nef.Specification.</code><code class="descname">extractByCategories</code><span class="sig-paren">(</span><em>rcsbDataBlock</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#extractByCategories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.extractByCategories" title="Permalink to this definition">¶</a></dt>
<dd><p>get saveFrames describing SaveFrames, Loops, and items, respectively</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.Specification.getCcpnSpecification">
<code class="descclassname">ccpn.util.nef.Specification.</code><code class="descname">getCcpnSpecification</code><span class="sig-paren">(</span><em>filePath</em><span class="sig-paren">)</span> &rarr; ccpn.util.nef.StarIo.NmrDataBlock<a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#getCcpnSpecification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.getCcpnSpecification" title="Permalink to this definition">¶</a></dt>
<dd><p>Get NEF specification summary with ccpn-specific additions</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.Specification.transferLoop">
<code class="descclassname">ccpn.util.nef.Specification.</code><code class="descname">transferLoop</code><span class="sig-paren">(</span><em>genericContainer</em>, <em>saveFrame</em>, <em>inputTags</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/Specification.html#transferLoop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.Specification.transferLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>transfer _category.tag_x, ... to loop named category with tags tag_x etc.</p>
</dd></dl>

</div>
<div class="section" id="module-ccpn.util.nef.StarIo">
<span id="ccpn-util-nef-stario-module"></span><h2>ccpn.util.nef.StarIo module<a class="headerlink" href="#module-ccpn.util.nef.StarIo" title="Permalink to this headline">¶</a></h2>
<p>I/O for NEF and NmrStar formats.</p>
<p>The functions to use are</p>
<p>and other STAR variants satisfying the following requirements:</p>
<blockquote>
<div><blockquote>
<div><ul class="simple">
<li>all plain tags in a saveframe start with a common prefix;</li>
</ul>
<p>for NEF files this must be the &#8216;&lt;sf_category&gt;&#8217; followed by &#8216;.&#8217;,
and the framecode value must start with the &#8216;&lt;sf_category&gt;&#8217; followed by underscore.</p>
<ul class="simple">
<li>All loop column names start with &#8216;&lt;loopcategory&gt;.&#8217;</li>
<li>loopcategories share a namespace with tags within a saveframe</li>
<li>DataBlocks can contain only saveframes.</li>
<li>For NEF files the</li>
</ul>
</div></blockquote>
<p>Use the functions parseNmrStar, parseNef, parseNmrStarFile, parseNefFile</p>
<blockquote>
<div><p>The &#8216;File&#8217; functions take a file name and pass the file contents to corresponding parser.</p>
<dl class="docutils">
<dt>The &#8216;NmrStar&#8217; functions will read any Star file that satisfies the constraints above, while</dt>
<dd>the &#8216;Nef&#8217; functions will also enforce the NEF=-specific constraints above</dd>
</dl>
</div></blockquote>
<p>On reading tag prefixes (&#8216;_&#8217;, &#8216;<a href="#id23"><span class="problematic" id="id24">save_</span></a>&#8216;, &#8216;<a href="#id25"><span class="problematic" id="id26">data_</span></a>&#8216; are stripped,
as are the parts of tags before the first &#8216;.&#8217;</p>
</div></blockquote>
<dl class="class">
<dt id="ccpn.util.nef.StarIo.NmrDataBlock">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">NmrDataBlock</code><span class="sig-paren">(</span><em>name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrDataBlock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrDataBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.DataBlock" title="ccpn.util.nef.GenericStarParser.DataBlock"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.DataBlock</span></code></a></p>
<p>DataBlock (OrderedDict)for NMRSTAR/NEF object tree</p>
<dl class="method">
<dt id="ccpn.util.nef.StarIo.NmrDataBlock.addSaveFrame">
<code class="descname">addSaveFrame</code><span class="sig-paren">(</span><em>saveFrame</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrDataBlock.addSaveFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrDataBlock.addSaveFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Add existing NmrSaveFrame to the DataBlock</p>
</dd></dl>

<dl class="method">
<dt id="ccpn.util.nef.StarIo.NmrDataBlock.newSaveFrame">
<code class="descname">newSaveFrame</code><span class="sig-paren">(</span><em>name</em>, <em>category</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrDataBlock.newSaveFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrDataBlock.newSaveFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Make new NmrSaveFrame and add it to the DataBlock</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.StarIo.NmrDataExtent">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">NmrDataExtent</code><span class="sig-paren">(</span><em>name='Root'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrDataExtent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrDataExtent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.DataExtent" title="ccpn.util.nef.GenericStarParser.DataExtent"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.DataExtent</span></code></a></p>
<p>Top level container (OrderedDict) for NMRSTAR/NEF object tree</p>
</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.StarIo.NmrLoop">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">NmrLoop</code><span class="sig-paren">(</span><em>name=None</em>, <em>columns=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrLoop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.Loop" title="ccpn.util.nef.GenericStarParser.Loop"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.Loop</span></code></a></p>
<p>Loop for NMRSTAR/NEF object tree</p>
<p>The contents, self.data is a list of OrderedDicts matching the column names.
rows can be modified or deleted from data, but adding new rows directly is likely to
break - use the newRow function.</p>
<dl class="attribute">
<dt id="ccpn.util.nef.StarIo.NmrLoop.category">
<code class="descname">category</code><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrLoop.category" title="Permalink to this definition">¶</a></dt>
<dd><p>- <em>None</em>, <em>immutable</em> - 
Loop category tag - synonym for name (unlike the case of SaveFrame)</p>
</dd></dl>

<dl class="attribute">
<dt id="ccpn.util.nef.StarIo.NmrLoop.tagPrefix">
<code class="descname">tagPrefix</code><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrLoop.tagPrefix" title="Permalink to this definition">¶</a></dt>
<dd><p>- <em>None</em>, <em>immutable</em> - 
Prefix to use before item tags on output</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.StarIo.NmrLoopRow">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">NmrLoopRow</code><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrLoopRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrLoopRow" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.LoopRow" title="ccpn.util.nef.GenericStarParser.LoopRow"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.LoopRow</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="ccpn.util.nef.StarIo.NmrSaveFrame">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">NmrSaveFrame</code><span class="sig-paren">(</span><em>name=None</em>, <em>category=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrSaveFrame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrSaveFrame" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ccpn.util.nef.GenericStarParser.SaveFrame" title="ccpn.util.nef.GenericStarParser.SaveFrame"><code class="xref py py-class docutils literal"><span class="pre">ccpn.util.nef.GenericStarParser.SaveFrame</span></code></a></p>
<p>SaveFrame (OrderedDict)for NMRSTAR/NEF object tree</p>
<dl class="method">
<dt id="ccpn.util.nef.StarIo.NmrSaveFrame.newLoop">
<code class="descname">newLoop</code><span class="sig-paren">(</span><em>name</em>, <em>columns</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#NmrSaveFrame.newLoop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrSaveFrame.newLoop" title="Permalink to this definition">¶</a></dt>
<dd><p>Make new NmrLoop and add it to the NmrSaveFrame</p>
</dd></dl>

<dl class="attribute">
<dt id="ccpn.util.nef.StarIo.NmrSaveFrame.tagPrefix">
<code class="descname">tagPrefix</code><a class="headerlink" href="#ccpn.util.nef.StarIo.NmrSaveFrame.tagPrefix" title="Permalink to this definition">¶</a></dt>
<dd><p>- <em>None</em>, <em>immutable</em> - 
Prefix to use before item tags on output</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="ccpn.util.nef.StarIo.StarValidationError">
<em class="property">exception </em><code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">StarValidationError</code><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#StarValidationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.StarValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">ValueError</span></code></p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.parseNef">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">parseNef</code><span class="sig-paren">(</span><em>text</em>, <em>mode='standard'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#parseNef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.parseNef" title="Permalink to this definition">¶</a></dt>
<dd><p>load NEF from string</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.parseNefFile">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">parseNefFile</code><span class="sig-paren">(</span><em>fileName</em>, <em>mode='standard'</em>, <em>wrapInDataBlock=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#parseNefFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.parseNefFile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse NEF from file</p>
<p>if wrapInDataBlock missing DataBlock start will be provided</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.parseNmrStar">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">parseNmrStar</code><span class="sig-paren">(</span><em>text</em>, <em>mode='standard'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#parseNmrStar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.parseNmrStar" title="Permalink to this definition">¶</a></dt>
<dd><p>load NMRSTAR file</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.parseNmrStarFile">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">parseNmrStarFile</code><span class="sig-paren">(</span><em>fileName</em>, <em>mode='standard'</em>, <em>wrapInDataBlock=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#parseNmrStarFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.parseNmrStarFile" title="Permalink to this definition">¶</a></dt>
<dd><p>parse NMRSTAR from file</p>
<p>if wrapInDataBlock missing DataBlock start will be provided</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.splitNefSequence">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">splitNefSequence</code><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#splitNefSequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.splitNefSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Split a sequence of nef_sequence dicts assumed to belong to the same chain
into a list of lists of sequentially linked stretches following the NEF rules</p>
<p>Note that missing linkings are treated as &#8216;middle&#8217; and missing start/end tags
are ignored, with the first/last residue treated, effectively, as linking &#8216;break&#8217;</p>
<p>Only unknown linking values and incorrect pairs of &#8216;cyclic&#8217; tags raise an error</p>
</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarIo.string2FramecodeString">
<code class="descclassname">ccpn.util.nef.StarIo.</code><code class="descname">string2FramecodeString</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarIo.html#string2FramecodeString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarIo.string2FramecodeString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-ccpn.util.nef.StarTokeniser">
<span id="ccpn-util-nef-startokeniser-module"></span><h2>ccpn.util.nef.StarTokeniser module<a class="headerlink" href="#module-ccpn.util.nef.StarTokeniser" title="Permalink to this headline">¶</a></h2>
<p>STAR file tokenizer</p>
<p># Copyright © 2011, 2013 Global Phasing Ltd. All rights reserved.
#
# Author: Peter Keller
#
# This file forms part of the GPhL StarTools library.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
#
#  Redistributions of source code must retain the above copyright
#  notice, this list of conditions and the following disclaimer.
#
#  Redistributions in binary form must reproduce the above copyright
#  notice, this list of conditions and the following disclaimer in the
#  documentation and/or other materials provided with the
#  distribution.
#
#  If the regular expression used to match STAR/CIF data in the
#  redistribution is not identical to that in the original version,
#  this fact must be stated wherever the copyright notice is
#  reproduced.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
# &#8220;AS IS&#8221; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
# FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
# COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
# INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
# (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
# SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
# HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
# STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
# ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
# OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>&#8216;&#8217;&#8217;
Created on 25 Nov 2013</p>
<p>&#64;author: pkeller
&#8216;&#8217;&#8216;</p>
<p>#
# Modified by Rasmus Fogh, CCPN project, 5/2/2016
#</p>
<dl class="class">
<dt id="ccpn.util.nef.StarTokeniser.StarToken">
<em class="property">class </em><code class="descclassname">ccpn.util.nef.StarTokeniser.</code><code class="descname">StarToken</code><span class="sig-paren">(</span><em>type</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#ccpn.util.nef.StarTokeniser.StarToken" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">tuple</span></code></p>
<dl class="attribute">
<dt id="ccpn.util.nef.StarTokeniser.StarToken.type">
<code class="descname">type</code><a class="headerlink" href="#ccpn.util.nef.StarTokeniser.StarToken.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

<dl class="attribute">
<dt id="ccpn.util.nef.StarTokeniser.StarToken.value">
<code class="descname">value</code><a class="headerlink" href="#ccpn.util.nef.StarTokeniser.StarToken.value" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ccpn.util.nef.StarTokeniser.getTokenIterator">
<code class="descclassname">ccpn.util.nef.StarTokeniser.</code><code class="descname">getTokenIterator</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ccpn/util/nef/StarTokeniser.html#getTokenIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ccpn.util.nef.StarTokeniser.getTokenIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator that returns an iterator over all STAR tokens in a generic STAR file</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">ccpn.util.nef package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#ccpn-util-nef-ccpn-module">ccpn.util.nef.Ccpn module</a></li>
<li><a class="reference internal" href="#ccpn-util-nef-cingccpn-module">ccpn.util.nef.CingCcpn module</a></li>
<li><a class="reference internal" href="#module-ccpn.util.nef.CompareNef">ccpn.util.nef.CompareNef module</a><ul>
<li><a class="reference internal" href="#module-contents">Module Contents</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-ccpn.util.nef.GenericStarParser">ccpn.util.nef.GenericStarParser module</a><ul>
<li><a class="reference internal" href="#reading-behaviour">Reading behaviour</a></li>
<li><a class="reference internal" href="#writing-behaviour">Writing behaviour</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-ccpn.util.nef.Specification">ccpn.util.nef.Specification module</a></li>
<li><a class="reference internal" href="#module-ccpn.util.nef.StarIo">ccpn.util.nef.StarIo module</a></li>
<li><a class="reference internal" href="#module-ccpn.util.nef.StarTokeniser">ccpn.util.nef.StarTokeniser module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ccpn.util.html"
                        title="previous chapter">ccpn.util package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ccpn.util.v2io.html"
                        title="next chapter">ccpn.util.v2io package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/ccpn/ccpn.util.nef.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ccpn.util.v2io.html" title="ccpn.util.v2io package"
             >next</a> |</li>
        <li class="right" >
          <a href="ccpn.util.html" title="ccpn.util package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Python  documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >CCPN</a> &raquo;</li>
          <li class="nav-item nav-item-2"><a href="ccpn.html" >ccpn package</a> &raquo;</li>
          <li class="nav-item nav-item-3"><a href="ccpn.util.html" >ccpn.util package</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright .
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>